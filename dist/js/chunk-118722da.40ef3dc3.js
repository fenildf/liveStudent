(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-118722da"],{3209:function(t,e,a){"use strict";var n=a("87f2"),i=a.n(n);i.a},"66c8":function(t,e,a){"use strict";var n=a("f17d"),i=a.n(n);i.a},8588:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Form",{attrs:{model:t.formItem,"label-width":80}},[a("FormItem",{attrs:{label:"视频分类"}},[a("tree-select",{staticStyle:{width:"353px"},attrs:{"check-strictly":"",data:t.CourseTypeTreeData},model:{value:t.CourseTypeTreeDataSelect,callback:function(e){t.CourseTypeTreeDataSelect=e},expression:"CourseTypeTreeDataSelect"}})],1),a("FormItem",{attrs:{label:"课程类型"}},[a("Select",{staticStyle:{width:"353px"}},[a("Option",[t._v("基础")]),a("Option",[t._v("提高")]),a("Option",[t._v("冲刺")])],1)],1),a("FormItem",{attrs:{label:"视频文件"}},[a("Row",[a("Col",{staticStyle:{width:"85px"},attrs:{span:"24"}},[a("Upload",{attrs:{multiple:"",action:"//jsonplaceholder.typicode.com/posts/"}},[a("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("Upload files")])],1)],1)],1)],1),a("FormItem",[a("Button",{attrs:{type:"primary"}},[t._v("提交")]),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:t.closeBtn}},[t._v("关闭")])],1)],1)},i=[],c=(a("ac6a"),a("cebc")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Select",t._b({ref:"select",staticClass:"tree-select",attrs:{multiple:""},on:{"on-change":t.handleChange}},"Select",t.$attrs,!1),[a("tree-select-tree-item",{attrs:{selectedArray:t.value,data:t.data,"load-data":t.loadData},on:{"on-clear":t.handleClear,"on-check":t.handleTreeCheck}})],1)},o=[];function l(t,e,a){this.$children.forEach(n=>{const i=n.$options.name;i===t?n.$emit.apply(n,[e].concat(a)):l.apply(n,[t,e].concat([a]))})}var s={methods:{dispatch(t,e,a){let n=this.$parent||this.$root,i=n.$options.name;while(n&&(!i||i!==t))n=n.$parent,n&&(i=n.$options.name);n&&n.$emit.apply(n,[e].concat(a))},broadcast(t,e,a){l.call(this,t,e,a)}}},u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Tree",t._g(t._b({attrs:{data:t.data,"load-data":t.loadDataCallback,"show-checkbox":""},on:{"on-check-change":t.handleCheckSelect}},"Tree",t.parent.$attrs,!1),t.parent.$listeners))},d=[],h=(a("6762"),a("2fdb"),function(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}),p={name:"TreeSelectTree",mixins:[s],props:{data:{type:Array,default:function(){return[]}},selectedArray:{type:Array,default:function(){return[]}},loadData:Function},data:function(){return{flatDic:{},checkedArray:[]}},inject:["parent"],computed:{expandAll:function(){return this.parent.$attrs["expand-all"]}},watch:{data:function(t,e){var a=this;this.updateFlagDic(t);var n=[];this.selectedArray.forEach(function(t){t in a.flatDic&&n.push(t)}),this.$emit("on-check",n.map(function(t){return a.flatDic[t]})),this.expandAll&&this.checkData(t,!1,!0)},selectedArray:function(t,e){var a=this;if(!h(t,e)){var n=t.filter(function(t){return t in a.flatDic});this.$emit("on-check",n.map(function(t){return a.flatDic[t]})),this.$emit("on-clear"),this.$nextTick(function(){a.checkData(a.data,!0)})}}},methods:{checkEmit:function(t,e){this.dispatch("iSelect","on-select-selected",{value:t,label:e}),this.$emit("on-select-selected",{value:t,label:e})},updateFlagDic:function(t){var e={};this.setFlagDic(t,function(t){e[t.id]=t}),this.flatDic=e},setFlagDic:function(t,e){var a=this;t.forEach(function(t){t.children&&t.children.length&&a.setFlagDic(t.children,e),e(t)})},handleCheckSelect:function(t,e){this.$emit("on-check",t),this.parent.$emit("on-change",t)},checkData:function(t,e,a){var n=this;t.forEach(function(t){n.selectedArray.includes(t.id)?(n.$set(t,"checked",!0),n.checkedArray.push(t),e&&n.checkEmit(t.id,t.title)):n.$set(t,"checked",!1),t.children&&t.children.length&&(n.expandAll&&a&&n.$set(t,"expand",!0),n.checkData(t.children,e,a))})},loadDataCallback:function(t,e){var a=this;this.loadData(t,function(t){return function(){e(t),a.updateFlagDic(a.data)}()})}},mounted:function(){var t=this;this.checkData(this.data,!1,!0),this.$nextTick(function(){t.$emit("on-check",t.checkedArray)})}},f=p,m=a("2877"),y=Object(m["a"])(f,u,d,!1,null,null,null),T=y.exports,k={name:"TreeSelect",mixins:[s],components:{TreeSelectTreeItem:T},props:{value:{type:Array,default:function(){return[]}},data:{type:Array,default:function(){return[]}},loadData:Function},data:function(){return{isChangedByTree:!0,isInit:!0}},provide:function(){return{parent:this}},methods:{handleChange:function(t){this.isChangedByTree||this.$emit("input",t),this.isChangedByTree=!1},handleTreeCheck:function(t){this.isChangedByTree=!0,this.$emit("input",t.map(function(t){return t.id}))},handleClear:function(){this.$refs.select.reset()}}},g=k,v=(a("66c8"),Object(m["a"])(g,r,o,!1,null,null,null)),D=v.exports,C=a("a0f0"),$=a("2f62"),b=(a("3022"),a("405d")),S=a("cabd"),w=(a("4be7"),{components:{Editor:C["a"],TreeSelect:D,UploadVideo:b["a"]},computed:{},created:function(){this.getCourseTypes(),this.$route.params.id&&this.getCourseData(this.$route.params.id)},data:function(){var t=this;return{formItem:{VideoName:"",Description:"",CourseType:"",CreateTime:"",editorContent:"",CourseStatus:1,Duration:"",videoTableData:[]},videoTableCol:[{type:"selection",width:50,align:"center",key:"VideoId"},{title:"视频名称",key:"Title"},{title:"状态",key:"Status",width:60,render:function(t,e){var a="";return"Uploading"===e.Status?a="上传中":"UploadFail"===e.Status?a="上传失败":"UploadSucc"===e.Status?a="上传完成":"Transcoding"===e.Status?a="转码中":"TranscodeFail"===e.Status?a="转码失败":"Checking"===e.Status?a="审核中":"Blocked"===e.Status?a="屏蔽":"Normal"===e.Status&&(a="正常"),t("span",a)}},{title:"创建时间",key:"CreationTime",width:120},{title:"操作",width:120,render:function(e,a){return e("div",[e("Button",{props:{size:"small"},style:{},on:{click:function(){t.show(a.index)}}},"播放"),e("Button",{props:{size:"small"},style:{},on:{click:function(){t.show(a.index)}}},"删除")])}}],CourseTypeTreeData:[],CourseTypeTreeDataSelect:[]}},methods:Object(c["a"])({},Object($["d"])(["closeTag"]),{closeBtn:function(){this.closeTag({name:"addcourse",params:{id:this.$route.params.id,title:this.$route.params.title}})},getVideoData:function(t){var e=this;t.map(function(t){console.log(t),e.formItem.videoTableData.push(t)})},getCourseData:function(t){var e=this;this.loading=!0,Object(S["a"])(t).then(function(t){var a=e;"1"!=t.data.code?(alert(t.data.msg),location.href="/login"):(a.loading=!1,a.formItem=t.data.data.courseInfo)}).catch(function(t){e.loading=!1})},getCourseTypes:function(){var t=this;Object(S["b"])().then(function(e){t.CourseTypeTreeData=[],e.data.data.forEach(function(e){t.CourseTypeTreeData.push({id:e.ID,title:e.TypeName})})}).catch(function(t){})}})}),x=w,A=(a("3209"),Object(m["a"])(x,n,i,!1,null,null,null));e["default"]=A.exports},"87f2":function(t,e,a){},f17d:function(t,e,a){}}]);